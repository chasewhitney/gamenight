<header ng-include="'/views/partials/header.html'"></header>
<div ng-include="'views/partials/nav.html'"></div>
<div class="container">


  <div flex-xs flex-gt-xs="80" layout="column" class="pageContainer">
    <!-- HOSTING -->
    <md-card class="md-whiteframe-3dp roboto" ng-show="admEvent.status == 'admin'" ng-repeat="admEvent in uc.eventService.myEvents">
      <md-card-title style="background-color:{{uc.eventService.getColor(admEvent.type)}}">

        <md-card-title-media class="myEventsImgDiv">
          <img ng-show="admEvent.img.length > 1" ng-src="{{admEvent.img[0] + admEvent.img[1]}}" ng-click="uc.eventService.goToEvent(admEvent)"/>
          <div ng-hide="admEvent.img.length > 1" class="card-media noMyEventImage" ng-click="uc.eventService.goToEvent(admEvent)"></div>
        </md-card-title-media>

        <md-card-title-text style="background-color:{{uc.eventService.getColor(admEvent.type)}};">
          <span class="md-headline textAlignCenter">{{admEvent.title}}</span>
          <div class="eventsInfo">
            <p>{{admEvent.date | date}} at {{admEvent.time}}</p>
            <p>{{admEvent.location}}</p>
            <br/><p><strong>Games: </strong>{{admEvent.games.join(', ')}}</p>
            <br/><p class="accent">{{admEvent.description}}</p>
          </div>
        </md-card-title-text>
        <div class="toRight">
          <p class="eventsType">HOSTING</p>
          <p ng-show="admEvent.closed" class="statusFull">Status: Full</p>
          <p ng-show="!admEvent.closed" class="statusOpen">Status: Open</p>
          <p ng-show="admEvent.pending.length > 0">(pending requests)</p>
        </div>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.goToEditEvent(admEvent)">EDIT EVENT</md-button>
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.deleteEvent(admEvent._id)">DELETE EVENT</md-button>
      </md-card-actions>
    </md-card>

    <!-- ATTENDING -->
    <md-card class="md-whiteframe-3dp" ng-show="attEvent.status == 'attending'" ng-repeat="attEvent in uc.eventService.myEvents">
      <md-card-title style="background-color:{{uc.eventService.getColor(attEvent.type)}}">

        <md-card-title-media class="myEventsImgDiv">
          <img ng-show="attEvent.img.length > 1" ng-src="{{attEvent.img[0] + attEvent.img[1]}}" ng-click="uc.eventService.goToEvent(attEvent)"/>
          <div ng-hide="attEvent.img.length > 1" class="card-media noMyEventImage" ng-click="uc.eventService.goToEvent(attEvent)"></div>
        </md-card-title-media>

        <md-card-title-text style="text-align:center;background-color:{{uc.eventService.getColor(attEvent.type)}}">
          <span class="md-headline textAlignCenter">{{attEvent.title}}</span>
          <div class="eventsInfo">
            <p>{{attEvent.date | date}} at {{attEvent.time}}</p>
            <p>{{attEvent.location}}</p><br/>
            <p><strong>Games: </strong>{{attEvent.games.join(', ')}}</p><br/>
            <p class="accent">{{attEvent.description}}</p>
          </div>
        </md-card-title-text>
        <div>
          <p class="eventsType">ATTENDING</p>
          <p ng-show="attEvent.closed" class="statusFull">Status: Full</p>
          <p ng-show="!attEvent.closed" class="statusOpen">Status: Open</p>
        </div>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.cancelAttend(attEvent._id)">Cancel Attendance</md-button>
      </md-card-actions>
    </md-card>

    <!-- PENDING -->
    <md-card class="md-whiteframe-3dp" ng-show="penEvent.status == 'pending'" ng-repeat="penEvent in uc.eventService.myEvents">
      <md-card-title style="background-color:{{uc.eventService.getColor(penEvent.type)}}">

        <md-card-title-media class="myEventsImgDiv">
          <img ng-show="penEvent.img.length > 1" ng-src="{{penEvent.img[0] + penEvent.img[1]}}" ng-click="uc.eventService.goToEvent(penEvent)"/>
          <div ng-hide="penEvent.img.length > 1" class="card-media noMyEventImage" ng-click="uc.eventService.goToEvent(penEvent)"></div>
        </md-card-title-media>

        <md-card-title-text style="text-align:center;background-color:{{uc.eventService.getColor(penEvent.type)}}">
          <span style="text-align:center" class="md-headline">{{penEvent.title}}</span>
          <div class="eventsInfo">
            <p>{{penEvent.date | date}} at {{penEvent.time}}</p>
            <p>{{penEvent.location}}</p><br/>
            <p><strong>Games: </strong>{{penEvent.games.join(', ')}}</p><br/>
            <p class="accent">{{penEvent.description}}</p>
          </div>
        </md-card-title-text>
        <div>
          <p class="eventsType">PENDING</p>
          <p ng-show="penEvent.closed" class="statusFull">Status: Full</p>
          <p ng-show="!penEvent.closed" class="statusOpen">Status: Open</p>
        </div>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.cancelRequest(penEvent._id)">Cancel Request</md-button>
      </md-card-actions>
    </md-card>

    <!-- SAVED -->
    <md-card class="md-whiteframe-3dp" ng-show="savEvent.status == 'saved'" ng-repeat="savEvent in uc.eventService.myEvents">
      <md-card-title style="background-color:{{uc.eventService.getColor(savEvent.type)}}">

        <md-card-title-media class="myEventsImgDiv">
          <img ng-show="savEvent.img.length > 1" ng-src="{{savEvent.img[0] + savEvent.img[1]}}" ng-click="uc.eventService.goToEvent(savEvent)"/>
          <div ng-hide="savEvent.img.length > 1" class="card-media noMyEventImage" ng-click="uc.eventService.goToEvent(savEvent)"></div>
        </md-card-title-media>

        <md-card-title-text style="text-align:center;background-color:{{uc.eventService.getColor(savEvent.type)}}">
          <span class="md-headline">{{savEvent.title}}</span>
          <div class="eventInfo">
            <p>{{savEvent.date | date}} at {{savEvent.time}}</p>
            <p>{{savEvent.location}}</p><br/>
            <p><strong>Games: </strong>{{savEvent.games.join(', ')}}</p><br/>
            <p class="accent">{{savEvent.description}}</p>
          </div>
        </md-card-title-text>
        <div>
          <p class="eventsType">SAVED</p>
          <p ng-show="savEvent.closed" class="statusFull">Status: Full</p>
          <p ng-show="!savEvent.closed" class="statusOpen">Status: Open</p>
        </div>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button ng-hide="savEvent.closed" class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.requestToAttend(savEvent._id)">Request to Attend</md-button>
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.removeFromSaved(savEvent._id)">Remove from Saved</md-button>
      </md-card-actions>
    </md-card>

    <!-- DENIED -->
    <md-card class="md-whiteframe-3dp" ng-show="denEvent.status == 'denied'" ng-repeat="denEvent in uc.eventService.myEvents">
      <md-card-title style="background-color:{{uc.eventService.getColor(denEvent.type)}}">

        <md-card-title-media class="myEventsImgDiv">
          <img ng-show="denEvent.img.length > 1" ng-src="{{denEvent.img[0] + denEvent.img[1]}}" ng-click="uc.eventService.goToEvent(denEvent)"/>
          <div ng-hide="denEvent.img.length > 1" class="card-media noMyEventImage" ng-click="uc.eventService.goToEvent(denEvent)"></div>
        </md-card-title-media>

        <md-card-title-text style="text-align:center;background-color:{{uc.eventService.getColor(denEvent.type)}}">
          <span class="md-headline">{{denEvent.title}}</span>
          <div class="eventInfo">
            <p>{{denEvent.date | date}} at {{denEvent.time}}</p>
            <p>{{denEvent.location}}</p><br/>
            <p><strong>Games: </strong>{{denEvent.games.join(', ')}}</p><br/>
            <p class="accent">{{denEvent.description}}</p>
          </div>
        </md-card-title-text>
        <div>
          <p class="eventsType">DENIED</p>
          <p ng-show="denEvent.closed" class="statusFull">Status: Full</p>
          <p ng-show="!denEvent.closed" class="statusOpen">Status: Open</p>
        </div>
      </md-card-title>
      <md-card-actions layout="row" layout-align="end center">
        <md-button class="md-raised md-primary" type="button" name="button" ng-click="uc.eventService.removeFromSaved(denEvent._id)">Remove from Saved</md-button>
      </md-card-actions>
    </md-card>

  </div>

</div>
